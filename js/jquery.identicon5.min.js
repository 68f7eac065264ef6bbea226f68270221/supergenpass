(function(a){a.fn.identicon5=function(f){settings=a.extend({hash:"test",rotate:true,size:32},f);var d=function(j,l){if(l.length>=2){j.beginPath();j.moveTo(l[0],l[1]);for(var k=2;k<l.length;k++){j.lineTo(l[k],l[k+1]);k++}j.fill()}};var e=function(j,l){switch(j){case 0:j=[0.5,1,1,0,1,1];break;case 1:j=[0.5,0,1,0,0.5,1,0,1];break;case 2:j=[0.5,0,1,0,1,1,0.5,1,1,0.5];break;case 3:j=[0,0.5,0.5,0,1,0.5,0.5,1,0.5,0.5];break;case 4:j=[0,0.5,1,0,1,1,0,1,1,0.5];break;case 5:j=[1,0,1,1,0.5,1,1,0.5,0.5,0.5];break;case 6:j=[0,0,1,0,1,0.5,0,0,0.5,1,0,1];break;case 7:j=[0,0,0.5,0,1,0.5,0.5,1,0,1,0.5,0.5];break;case 8:j=[0.5,0,0.5,0.5,1,0.5,1,1,0.5,1,0.5,0.5,0,0.5];break;case 9:j=[0,0,1,0,0.5,0.5,1,0.5,0.5,1,0.5,0.5,0,1];break;case 10:j=[0,0.5,0.5,1,1,0.5,0.5,0,1,0,1,1,0,1];break;case 11:j=[0.5,0,1,0,1,1,0.5,1,1,0.75,0.5,0.5,1,0.25];break;case 12:j=[0,0.5,0.5,0,0.5,0.5,1,0,1,0.5,0.5,1,0.5,0.5,0,1];break;case 13:j=[0,0,1,0,1,1,0,1,1,0.5,0.5,0.25,0.5,0.75,0,0.5,0.5,0.25];break;case 14:j=[0,0.5,0.5,0.5,0.5,0,1,0,0.5,0.5,1,0.5,0.5,1,0.5,0.5,0,1];break;default:j=[0,0,1,0,0.5,0.5,0.5,0,0,0.5,1,0.5,0.5,1,0.5,0.5,0,1];break}for(var k=0;k<j.length;k++){j[k]=j[k]*l}return j};var h=function(t,u){var s;var q=u/5;var r=q/2;var n=0;var m=0;t.strokeRect(0,0,q,q);for(var o=0;o<15;o++){s=e(o,q);t.save();t.translate(r+(n*q),r+(m*q));for(var l=0;l<s.length;l++){s[l]-=r}d(t,s);t.strokeRect(-r,-r,q,q);t.restore();if(n>=4){n=0;m++}else{n++}}};var c=function(r,o,n,m,q,j,s){var k=s/2;r.save();r.translate(n,m);r.rotate(j*Math.PI/180);r.save();r.translate(k,k);var l=[];for(var i=0;i<o.length;i++){l[i]=o[i]-k}r.rotate(q);d(r,l);r.restore();r.restore()};var g=function(j,l){switch(j){case 0:j=[];break;case 1:j=[0,0,1,0,1,1,0,1];break;case 2:j=[0.5,0,1,0.5,0.5,1,0,0.5];break;case 3:j=[0,0,1,0,1,1,0,1,0,0.5,0.5,1,1,0.5,0.5,0,0,0.5];break;case 4:j=[0.25,0,0.75,0,0.5,0.5,1,0.25,1,0.75,0.5,0.5,0.75,1,0.25,1,0.5,0.5,0,0.75,0,0.25,0.5,0.5];break;case 5:j=[0,0,0.5,0.25,1,0,0.75,0.5,1,1,0.5,0.75,0,1,0.25,0.5];break;case 6:j=[0.33,0.33,0.67,0.33,0.67,0.67,0.33,0.67];break;case 7:j=[0,0,0.33,0,0.33,0.33,0.66,0.33,0.67,0,1,0,1,0.33,0.67,0.33,0.67,0.67,1,0.67,1,1,0.67,1,0.67,0.67,0.33,0.67,0.33,1,0,1,0,0.67,0.33,0.67,0.33,0.33,0,0.33];break;default:j=[0,0,1,0,0.5,0.5,0.5,0,0,0.5,1,0.5,0.5,1,0.5,0.5,0,1];break}for(var k=0;k<j.length;k++){j[k]=j[k]*l}return j};var b=function(A,k,y,B){var z=parseInt(k.substr(0,1),16);var w=parseInt(k.substr(1,1),16);var s=parseInt(k.substr(2,1),16)&7;var l=Math.PI/2;var o=l*(parseInt(k.substr(3,1),16)&3);var i=l*(parseInt(k.substr(4,1),16)&3);var v=parseInt(k.substr(5,1),16)%2;var j=parseInt(k.substr(6,2),16);var q=parseInt(k.substr(8,2),16);var u=parseInt(k.substr(10,2),16);var D=parseInt(k.substr(12,2),16);var n=parseInt(k.substr(14,2),16);var p=parseInt(k.substr(16,2),16);var x=y/3;var r=y;var t=e(z,x);A.fillStyle="rgb("+j+","+q+","+u+")";if(B===false){o=0}c(A,t,0,0,o,0,x);c(A,t,r,0,o,90,x);c(A,t,r,r,o,180,x);c(A,t,0,r,o,270,x);if(B===false){i=0}var m=e(w,x);A.fillStyle="rgb("+D+","+n+","+p+")";c(A,m,0,x,i,0,x);c(A,m,2*x,0,i,90,x);c(A,m,3*x,2*x,i,180,x);c(A,m,x,3*x,i,270,x);var C=g(s,x);if(v>0&&(Math.abs(j-D)>127||Math.abs(q-n)>127||Math.abs(u-p)>127)){A.fillStyle="rgb("+D+","+n+","+p+")"}else{A.fillStyle="rgb("+j+","+q+","+u+")"}c(A,C,x,x,0,0,x)};return this.each(function(){var k=settings.hash;var j=this;if(j.getContext){j.width=settings.size;j.height=settings.size;var i=j.getContext("2d");if(k==="test"){h(i,settings.size)}else{b(i,k,settings.size,settings.rotate)}}})}})(window.jQuery||window.$);